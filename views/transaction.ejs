<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üí∞ Transaction Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #020617, #0a0f2c);
  color: #fff;
  padding: 20px;
}
h2, h3 {
  margin-bottom: 20px;
  color: #ffd700;
}
.section {
  margin-bottom: 40px;
}
.card {
  background: #1a1f3a;
  padding: 15px 20px;
  border-radius: 10px;
  margin-bottom: 10px;
  border-left: 5px solid #007bff;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}
.empty {
  color: #999;
  padding: 10px;
  font-style: italic;
}
.status-pending { color: orange; font-weight: bold; }
.status-approved { color: #00ff00; font-weight: bold; }
.status-rejected { color: red; font-weight: bold; }

/* Custom colors per section */
.deposit { border-left-color: #007bff; }
.withdrawal { border-left-color: #28a745; }
.investment { border-left-color: #ffc107; }
.loan { border-left-color: #17a2b8; }

/* Responsive */
@media (max-width: 600px){
  body { padding: 10px; }
  .card { padding: 10px; font-size: 14px; }
}
a { color: gold; text-decoration: none; margin: 0 10px; }
</style>
</head>
<body>

<h2>üí∞ Transaction Dashboard</h2>

<!-- ================= DEPOSITS ================= -->
<div class="section">
  <h3>üí≥ Deposit History</h3>
  <% if (!deposits || deposits.length === 0) { %>
    <div class="empty">No deposits yet.</div>
  <% } else { %>
    <% deposits.forEach(dep => { %>
      <div class="card deposit">
        <strong>$<%= dep.amount %></strong><br>
        Status: <span class="status-<%= dep.status.toLowerCase() %>"><%= dep.status %></span><br>
        Date: <%= new Date(dep.created_at).toLocaleString() %>
      </div>
    <% }) %>
  <% } %>
</div>

<!-- ================= WITHDRAWALS ================= -->
<div class="section">
  <h3>üèß Withdrawal History</h3>
  <% if (!withdrawals || withdrawals.length === 0) { %>
    <div class="empty">No withdrawals yet.</div>
  <% } else { %>
    <% withdrawals.forEach(w => { %>
      <div class="card withdrawal">
        <strong>$<%= w.amount %></strong><br>
        Status: <span class="status-<%= w.status.toLowerCase() %>"><%= w.status %></span><br>
        Date: <%= new Date(w.created_at).toLocaleString() %>
      </div>
    <% }) %>
  <% } %>
</div>

<!-- ================= INVESTMENTS ================= -->
<div class="section">
  <h3>üìà Investment History</h3>
  <% if (!investments || investments.length === 0) { %>
    <div class="empty">No investments yet.</div>
  <% } else { %>
    <% investments.forEach(inv => { %>
      <div class="card investment">
        <strong>$<%= inv.amount %></strong><br>
        Plan: <%= inv.plan %><br>
        Status: <span class="status-<%= inv.status.toLowerCase() %>"><%= inv.status %></span><br>
        Date: <%= new Date(inv.created_at).toLocaleString() %>
      </div>
    <% }) %>
  <% } %>
</div>

<!-- ================= LOANS ================= -->
<div class="section">
  <h3>üí∏ Loan History</h3>
  <% if (!loans || loans.length === 0) { %>
    <div class="empty">No loans yet.</div>
  <% } else { %>
    <% loans.forEach(loan => { %>
      <div class="card loan">
        <strong>$<%= loan.amount %></strong><br>
        Interest: $<%= loan.interest %><br>
        Total Payable: $<%= loan.total_payable %><br>
        Duration: <%= loan.duration %><br>
        Status: <span class="status-<%= loan.status.toLowerCase() %>"><%= loan.status %></span><br>
        Date: <%= new Date(loan.created_at).toLocaleString() %>
      </div>
    <% }) %>
  <% } %>
</div>

<!-- ================= SUPPORT LINKS ================= -->
<div style="text-align:center; margin-top:30px; font-size:16px; color:white;">
  Support: 
  <a href="mailto:customerservice@gmail.com" target="_blank">Gmail</a> |
  <a href="https://t.me/AccountOfficer" target="_blank">Telegram</a>
</div>

</body>
</html>